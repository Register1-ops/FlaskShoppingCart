<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shopping Basket</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='basketPage.css') }}">
</head>
<body>

<header id="headPart">
    <h1>Shopping Basket</h1>
</header>

<main id="basketAndPayment">
    <section class="basketText">
        {% if empty %}
            <p>Your basket is empty!</p>
        {% else %}
            <ul>
                {% for item in unique_items %}
                <li class="basket-item">
                    <p><strong>{{ item.name }} × {{ item_counts[item.name] }}</strong></p>
                    <p>Price: £{{ item.price }}</p>
                    <p>Environment score: {{ item.environmentScore }} kg CO<sub>2</sub></p>
                    <a href="{{ url_for('individualProductPage', productId=item.id) }}">
                        <img src="{{ url_for('static', filename=item.image) }}" alt="{{ item.name }}" width="100">
                    </a>
                </li>
                {% endfor %}
            </ul>
        {% endif %}
    </section>

    <aside class="checkout-summary">
        <p id="totalP"><strong>Total:</strong> £{{ itemTotal }}</p>
        <p id="environmentScoreP"><strong>Environment score:</strong> {{ environmentScore }} kg CO<sub>2</sub></p>
        {% if not empty %}
            <a href="{{ url_for('paymentPageFunction') }}">
                <button id="paymentButton">Proceed to Payment</button>
            </a>
        {% endif %}
    </aside>
</main>

<div class="button-container">
    <a href="{{ url_for('galleryPage') }}">
        <button id="continueShopping">Continue Shopping</button>
    </a>
</div>

</body>
</html>
